<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Overview - MD2K Software Documentation</title>
      
      
      
        <link rel="canonical" href="http://docs.md2k.org/mCerebrum/">
      
      
        <meta name="author" content="MD2K">
      
    
    <meta property="og:url" content="http://docs.md2k.org/mCerebrum/">
    <meta property="og:title" content="MD2K Software Documentation">
    <meta property="og:image" content="http://docs.md2k.org/mCerebrum//../">
    <meta name="apple-mobile-web-app-title" content="MD2K Software Documentation">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../None">
    <link rel="icon" type="image/x-icon" href="../None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-06cd3bf557.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-2d6c5d2926.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../css/md2k.css">
    
    <script src="../assets/javascripts/modernizr.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-blue palette-accent-red">
    
      
      
        
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                mCerebrum <i class="icon icon-link"></i>
              
            
          </span>
        
        Overview
      </div>
    </div>
    
      
      <div class="button button-twitter" role="button" aria-label="Twitter">
        <a href="https://twitter.com/MD2Korg" title="@MD2Korg on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
      </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/MD2Korg" title="@MD2Korg on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="http://md2k.org"><div class="MD2Kbanner"></div></a>
  <a href="https://github.com/MD2Korg/" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          MD2K Software Documentation
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          MD2Korg
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/MD2Korg//archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/MD2Korg//stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <span class="section">Home</span>
    <ul>
      
        
  <li>
    <a class="" title="Introduction" href="..">
      Introduction
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Software</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../software/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Release Notes" href="../software/releasenotes/">
      Release Notes
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Testing Guidelines" href="../software/testingguidelines/">
      Testing Guidelines
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contributing" href="../contributing/">
      Contributing
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Overview</span>
    <ul>
      
        
  <li>
    <a class="" title="Data Protection" href="../data_protection/">
      Data Protection
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contributors" href="../contributors/">
      Contributors
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="References" href="../references/">
      References
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="License" href="../license/">
      License
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">mCerebrum</span>
    <ul>
      
        
  <li>
    <a class="current" title="Overview" href="./">
      Overview
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Functionality and Architecture of mCerebrum" href="#functionality-and-architecture-of-mcerebrum">
                Functionality and Architecture of mCerebrum
              </a>
            </li>
          
            <li class="anchor">
              <a title="Mobile Sensor Support for Data Collection" href="#mobile-sensor-support-for-data-collection">
                Mobile Sensor Support for Data Collection
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Configurations" href="configurations/">
      Configurations
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-mCerebrum" href="configuration-mCerebrum/">
      Configuration-mCerebrum
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-DataKit" href="configuration-datakit/">
      Configuration-DataKit
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-Sensors" href="configuration-sensors/">
      Configuration-Sensors
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-Plotter" href="configuration-plotter/">
      Configuration-Plotter
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-EMA" href="configuration-ema/">
      Configuration-EMA
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configuration-EMA Scheduler" href="configuration-emascheduler/">
      Configuration-EMA Scheduler
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Troubleshooting" href="troubleshooting/">
      Troubleshooting
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Cerebral Cortex</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../cerebralcortex/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="API" href="../cerebralcortex/api/">
      API
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <a class="" title="Feedback" href="../feedback/">
      Feedback
    </a>
    
  </li>

          
        </ul>
        
          <hr>
          <span class="section">Additional information</span>
          <ul>
            
              
              <li>
                <a href="https://twitter.com/MD2Korg" target="_blank" title="@MD2Korg on Twitter">
                  @MD2Korg on Twitter
                </a>
              </li>
            
            
              
              <li>
                <a href="https://github.com/MD2Korg" target="_blank" title="@MD2Korg on GitHub">
                  @MD2Korg on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
      <span class="section">MD2K is supported by the National Institutes of Health Big Data to Knowledge Initiative Grant #1U54EB020404</span>
      <span class="section">Team: Cornell Tech, GA Tech, U Memphis, Northwestern, Ohio State, Open mHealth, Rice, UCLA, UCSD, UCSF, U Mass, U Michigan, WVU</span>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="mcerebrum">mCerebrum</h1>
<p><strong>An Open Source Software Suite for Mobile Sensor Data</strong></p>
<!-- ![mCerebrum Logo](../img/mCerebrum-logo.png) -->

<iframe src="https://www.youtube.com/embed/GR3pahhXp4U" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe>

<h2 id="functionality-and-architecture-of-mcerebrum">Functionality and Architecture of mCerebrum</h2>
<p><img alt="mCerebrum Architecture" src="./../img/mCerebrum-v3.png" /></p>
<p>mCerebrum is a configurable software platform for mobile and wearable devices. The mCerebrum platform is divided into functional layers so that each component is flexible and can be adapted and extended without adversely affecting the other components.  Two components – an access controller and data router – links each layer.  The access controller is responsible to ensuring that pairs of components within the system have appropriate credentials to communicate with each other through the data router, which is responsible for routing data objects throughout the platform.</p>
<p>To meet future needs, we anticipate continuing to adapt and augment the mCerebrum platform to support future technologies and the needs of new studies. The component-based architecture is easily modified and adapted to specific studies and the simple APIs should provide for easy integration into existing applications. mCerebrum has the following layers and associated application components:</p>
<h2 id="mobile-sensor-support-for-data-collection">Mobile Sensor Support for Data Collection</h2>
<p>mCerebrum provides support for reliable data collection from mobile and wearable sensors in excess of 800 hertz, and real-time processing of these data for sensor-triggered just-in-time adaptive interventions. mCerebrum currently supports a variety of data sources including:</p>
<ul>
<li>Microsoft band (accelerometers, gyroscopes, galvanic skin response, UV exposure)</li>
<li>AutoSense Chest (ECG, respiration, galvanic skin response, accelerometer)</li>
<li>AutoSense Wrist (accelerometer, gyroscope, galvanic skin response)</li>
<li>EasySense (ultra wideband radio frequency for lung fluid and cardiorespiratory motion)</li>
<li>Omron BLE Blood Pressure Monitor (blood pressure)</li>
<li>Omron BLE Weight Scale (weight, balance, frailty)</li>
<li>Android smartphones (GPS, accelerometers)</li>
<li>iCO Smokerlyzer (smoking status)</li>
</ul>
<p>These sensor platforms communicate with mCerebrum over one of four interfaces: 802.15.4, Bluetooth, headphone port, or local API.</p>
<p>mCerebrum supports real-time data processing algorithms to evaluate stress, activity, driving/riding, smoking, and conversation. mCerebrum collects user reported data collection through EMAs, intervention response, and self reports.</p>
<p>Finally, mCerebrum provides end-to-end access control, encryption, and data source linage along with a simple set of APIs for application development that is freely available under the open source BSD 2-clause license.</p>
<h3 id="communication-interfaces">Communication Interfaces</h3>
<p>Data sources are either on the smartphone or come from external devices that can be connected to the platform through various radios or wire interfaces:</p>
<ul>
<li>802.15.4 (ANT+)</li>
<li>Bluetooth</li>
<li>headphone port</li>
<li>local</li>
</ul>
<p>The Microsoft Band, EasySense (lung fluid and heart/lung motion), and Omron (blood pressure and weight) devices have custom applications that utilize the Bluetooth radio to interact with the device and relay data into mCerebrum. <a href="https://github.com/MD2Korg/mCerebrum-MicrosoftBand">Microsoft Band</a> samples accelerometer, gyroscope, GSR, light, and heart rate for measuring arm movements for eating and smoking behavior detection. <a href="https://github.com/MD2Korg/mCerebrum-AutoSense">AutoSense</a> receives data from multiple devices over an 802.15.4 (ANT+) radio that includes: Chest, which contains ECG, respiration, and accelerometer data and Wrist, which samples accelerometer and gyroscope information before sending data into Data Kit.  A Bluetooth version of AutoSense is under development for more flexibility in deployments. These two radio chipsets represent most of the wireless communication between wearable sensors and a smartphone and are currently integrated into mCerebrum.</p>
<p>The ICO smokerlyzer is connected to mCerebrum via the headphone jack. Our platform is able to communicate over this connection with the device to measure carbon monoxide of a smoker in the field. The <a href="https://github.com/MD2Korg/mCerebrum-PhoneSensor">Phone Sensor</a> application can record all available sensors on a smartphone platform and is typically configured to record the accelerometer, gyroscope, GPS, CPU, and battery levels from the device. Once data has arrived on mCerebrum through any one of the interfaces, it is routed via the data router and Data Kit. We have applications that integrate into mCerebrum across a variety of different communication modalities and push data into our common data core, Data Kit, for use by additional signal processing.</p>
<h3 id="signal-processing">Signal processing</h3>
<p>A signal processing layer is responsible for converting sensor data into markers on which the Intervention Kit acts.  The primary real-time data processor, <a href="https://github.com/MD2Korg/mCerebrum-StreamProcessor">Stream Processor</a>, subscribes to data sources produced by the lower tiers and produces markers for the upper tiers.  Currently, it contains signal processing algorithms designed to compute various features and markers including: data quality of raw sensor signals:</p>
<ul>
<li><strong>puffMarker</strong> uses respiration (from a chest band) and hand gesture data (from wrist sensors) to determine when each cigarette puff occurs</li>
<li><strong>activity recovery</strong> uses interbeat interval (from ECG) and activity level (from accelerometers) to measure the body’s recovery time after an exercise period as an index of cardiac fitness</li>
<li><strong>cStress</strong> uses ECG, respiration, and accelerometer data to an estimated the likelihood of stress for each minute that these sensors are worn properly</li>
<li><strong>stress trigger</strong> converts the stress probabilities into episodes of high and low stress that can be used to decide whether to trigger a stress intervention</li>
<li><strong>driving detector</strong> that determine if a person is involved in driving a motorized vehicle</li>
</ul>
<p>The stream processor performs this computation in one-minute blocks that provides near real-time markers for other applications. A visualization layer contains multiple components around displaying the results of the signal processing and can be shown to the participant as necessary but is typically utilized for gaining a sense of how well the system if functioning on the backend.</p>
<h3 id="storage-interfaces">Storage interfaces</h3>
<p>Storage interfaces provide encrypted data storage and transport capabilities and are subject to the privacy controller, which allows a participant to temporally disable sensor data flow within the system according to rules dictated by the study rules. There are currently three storage interfaces:</p>
<ul>
<li><a href="https://github.com/MD2Korg/mCerebrum-DataKit">Data Kit</a> is designed to manage and store information produced by all layers and is a key component of mCerebrum data pipeline. It provides an encrypted data store (SQLite) and exposes publisher/subscriber and query interfaces for other components.</li>
<li>A <a href="https://github.com/MD2Korg/mCerebrum-CerebralCortex">Cerebral Cortex</a> interface to the system allows for data to be offloaded periodically, depending on quality of service constraints, from mCerebrum via an encrypted REST API over a secure cellular or Wi-Fi network to a Cerebral Cortex cloud service for additional storage and signal processing.</li>
<li>A <a href="https://github.com/MD2Korg/DataExporter">data export</a> interface is provided to allow for researchers to extract all recorded information from a mCerebrum device onto a computer for analysis.</li>
</ul>
<h3 id="participant-interaction">Participant interaction</h3>
<p>Participants interact with the system through a suite of applications.</p>
<ul>
<li>The <a href="https://github.com/MD2Korg/mCerebrum-Study">mCerebrum-Study</a> application that provides user interfaces to additional applications and allows for the configuration of the system.</li>
<li>The <a href="https://github.com/MD2Korg/mCerebrum-EMA">EMA</a> and <a href="https://github.com/MD2Korg/mCerebrum-SelfReport">Self Report</a> applications are designed to all for the delivery of scheduled or event-based questionnaires to the participant and to deliver any self-reported information.</li>
<li>We developed several applications designed around stress reduction techniques, <a href="https://github.com/MD2Korg/mCerebrum-MoodSurfing">Mood Surfing</a> and <a href="https://github.com/MD2Korg/mCerebrum-ThoughtShakeup">Thought Shakeup</a>, and also support the launching of any external intervention application.</li>
<li><a href="https://github.com/MD2Korg/mCerebrum-Plotter">Plotter</a>, a real-time data visualization tool, allows the participant to visualize many of the raw sensor signals to aid in attaching and verifying the quality of sampled data.</li>
<li><a href="https://github.com/MD2Korg/mCerebrum-InterventionKit">Intervention kit</a> is a sensor-triggered EMA and intervention application bridges this layer with the signal-processing layer to provide data-driven and scheduled notifications and interventions. It also provides an API for notifying a participant either through a wearable device or the smartphone via different modalities, which include vibration and sound. The ability to provide just-in-time interventions based on a real-time analysis of high-frequency data streams and its ability to combine diverse data streams from a variety of sensors is a key capability of mCerebrum.</li>
</ul>
<p>For example, puffMarker uses multiple data streams (respiration, and wrist-based accelerometers and gyroscopes) to detect when a cigarette puff occurs.  This puff information is utilized by the intervention manager to provide alerts to the participant through mCerebrum&rsquo;s notification system that sends a set of configurable messages, tones, and vibrations to a Microsoft band and the smartphone. Failure to acknowledge the intervention or message can result in repeated attempts to contact followed by an escalation of causing additional alerts to be sent.</p>
<p>Similarly, ECG, respiration, and accelerometer data is used by the cStress model to assess the likelihood of stress that is then used to generate triggers for launching stress intervention apps.</p>
          <aside class="copyright" role="note">
            
              &copy; MD2K 2016 &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../license/" title="License">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                License
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="configurations/" title="Configurations">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Configurations
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'MD2Korg';
    </script>
    <script src="../assets/javascripts/application-dfb6964a49.js"></script>
    
    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
        /* General initialization */
        ga('create', 'UA-77812263-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
        /* Track outbound links */
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
        /* Register handler to log search on blur */
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    
  </body>
</html>